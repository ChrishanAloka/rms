{"ast":null,"code":"var _jsxFileName = \"D:\\\\University\\\\sliit y3s2\\\\rms\\\\frontend\\\\src\\\\components\\\\ProtectedRoute.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/components/PrivateRoute.jsx\nimport React, { useContext } from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { AuthContext } from \"./context/auth-context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const useAuth = () => {\n  _s();\n  return useContext(AuthContext);\n};\n_s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nconst PrivateRoute = ({\n  allowedRoles,\n  children\n}) => {\n  _s2();\n  const {\n    user,\n    loading\n  } = useContext(AuthContext);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 23\n  }, this);\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 12\n    }, this);\n  }\n  if (!allowedRoles.includes(user.role)) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/unauthorized\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 12\n    }, this);\n  }\n  return children;\n};\n_s2(PrivateRoute, \"nVcmz/Z77NEMBy/UMVDV0Kci2eI=\");\n_c = PrivateRoute;\nexport default PrivateRoute;\nvar _c;\n$RefreshReg$(_c, \"PrivateRoute\");","map":{"version":3,"names":["React","useContext","Navigate","AuthContext","jsxDEV","_jsxDEV","useAuth","_s","PrivateRoute","allowedRoles","children","_s2","user","loading","fileName","_jsxFileName","lineNumber","columnNumber","to","includes","role","_c","$RefreshReg$"],"sources":["D:/University/sliit y3s2/rms/frontend/src/components/ProtectedRoute.jsx"],"sourcesContent":["// src/components/PrivateRoute.jsx\r\nimport React, { useContext } from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { AuthContext } from \"./context/auth-context\";\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n\r\nconst PrivateRoute = ({ allowedRoles, children }) => {\r\n  const { user, loading } = useContext(AuthContext);\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n\r\n  if (!user) {\r\n    return <Navigate to=\"/\" />;\r\n  }\r\n\r\n  if (!allowedRoles.includes(user.role)) {\r\n    return <Navigate to=\"/unauthorized\" />;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nexport default PrivateRoute;"],"mappings":";;;AAAA;AACA,OAAOA,KAAK,IAAIC,UAAU,QAAQ,OAAO;AACzC,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,WAAW,QAAQ,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,OAAO,MAAMC,OAAO,GAAGA,CAAA;EAAAC,EAAA;EAAA,OAAMN,UAAU,CAACE,WAAW,CAAC;AAAA;AAACI,EAAA,CAAxCD,OAAO;AAEpB,MAAME,YAAY,GAAGA,CAAC;EAAEC,YAAY;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EACnD,MAAM;IAAEC,IAAI;IAAEC;EAAQ,CAAC,GAAGZ,UAAU,CAACE,WAAW,CAAC;EAEjD,IAAIU,OAAO,EAAE,oBAAOR,OAAA;IAAAK,QAAA,EAAK;EAAU;IAAAI,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EAEzC,IAAI,CAACL,IAAI,EAAE;IACT,oBAAOP,OAAA,CAACH,QAAQ;MAACgB,EAAE,EAAC;IAAG;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAC5B;EAEA,IAAI,CAACR,YAAY,CAACU,QAAQ,CAACP,IAAI,CAACQ,IAAI,CAAC,EAAE;IACrC,oBAAOf,OAAA,CAACH,QAAQ;MAACgB,EAAE,EAAC;IAAe;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACxC;EAEA,OAAOP,QAAQ;AACjB,CAAC;AAACC,GAAA,CAdIH,YAAY;AAAAa,EAAA,GAAZb,YAAY;AAgBlB,eAAeA,YAAY;AAAC,IAAAa,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}